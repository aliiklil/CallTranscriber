<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_152-release) on Sat May 26 17:13:46 CEST 2018 -->
<title>CallActivity.TranscriptionTask</title>
<meta name="date" content="2018-05-26">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CallActivity.TranscriptionTask";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">at.ac.univie.bachelorarbeit.ss18.calltranscriber.activities</div>
<h2 title="Class CallActivity.TranscriptionTask" class="title">Class CallActivity.TranscriptionTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>android.os.AsyncTask&lt;java.io.File,java.lang.Void,java.lang.Void&gt;</li>
<li>
<ul class="inheritance">
<li>at.ac.univie.bachelorarbeit.ss18.calltranscriber.activities.CallActivity.TranscriptionTask</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.html" title="class in at.ac.univie.bachelorarbeit.ss18.calltranscriber.activities">CallActivity</a></dd>
</dl>
<hr>
<br>
<pre>private class <span class="typeNameLabel">CallActivity.TranscriptionTask</span>
extends android.os.AsyncTask&lt;java.io.File,java.lang.Void,java.lang.Void&gt;</pre>
<div class="block">Will be used to create the transcript. AsyncTask are needed whenever an app needs to make a long background operation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.android.os.AsyncTask">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;android.os.AsyncTask</h3>
<code>android.os.AsyncTask.Status</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.List&lt;com.ibm.watson.developer_cloud.speech_to_text.v1.model.SpeakerLabelsResult&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#speakerLabelsResult">speakerLabelsResult</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.os.AsyncTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;android.os.AsyncTask</h3>
<code>SERIAL_EXECUTOR, THREAD_POOL_EXECUTOR</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#TranscriptionTask--">TranscriptionTask</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#convertAudioFileIntoBase64-java.io.File-">convertAudioFileIntoBase64</a></span>(java.io.File&nbsp;audioFile)</code>
<div class="block">Converts the audio file into base64.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#convertM4aToFlac-java.lang.String-java.io.File-">convertM4aToFlac</a></span>(java.lang.String&nbsp;base64EncodedAudio,
                java.io.File&nbsp;audioFile)</code>
<div class="block">Converts the .m4a audio file into a .flac file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#createPDF-java.lang.String-">createPDF</a></span>(java.lang.String&nbsp;rawTranscript)</code>
<div class="block">Creates the pdf file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#createRawTranscript-java.io.File-">createRawTranscript</a></span>(java.io.File&nbsp;audioFile)</code>
<div class="block">Creates the raw transcript.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected java.lang.Void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#doInBackground-java.io.File...-">doInBackground</a></span>(java.io.File...&nbsp;audioFile)</code>
<div class="block">Creates the transcript.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#onPostExecute-java.lang.Void-">onPostExecute</a></span>(java.lang.Void&nbsp;result)</code>
<div class="block">Will be called after the transcript has been created to make changes to the UI, signalling that the
 background operation has been completed.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../at/ac/univie/bachelorarbeit/ss18/calltranscriber/activities/CallActivity.TranscriptionTask.html#onPreExecute--">onPreExecute</a></span>()</code>
<div class="block">Will be called to make changes to the UI before starting the background operation, in which the transcript is created.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.os.AsyncTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;android.os.AsyncTask</h3>
<code>cancel, execute, execute, executeOnExecutor, get, get, getStatus, isCancelled, onCancelled, onCancelled, onProgressUpdate, publishProgress</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="speakerLabelsResult">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>speakerLabelsResult</h4>
<pre>java.util.List&lt;com.ibm.watson.developer_cloud.speech_to_text.v1.model.SpeakerLabelsResult&gt; speakerLabelsResult</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TranscriptionTask--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TranscriptionTask</h4>
<pre>private&nbsp;TranscriptionTask()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="convertAudioFileIntoBase64-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertAudioFileIntoBase64</h4>
<pre>private&nbsp;java.lang.String&nbsp;convertAudioFileIntoBase64(java.io.File&nbsp;audioFile)
                                             throws java.io.IOException</pre>
<div class="block">Converts the audio file into base64.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audioFile</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="convertM4aToFlac-java.lang.String-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertM4aToFlac</h4>
<pre>private&nbsp;void&nbsp;convertM4aToFlac(java.lang.String&nbsp;base64EncodedAudio,
                              java.io.File&nbsp;audioFile)
                       throws java.io.IOException</pre>
<div class="block">Converts the .m4a audio file into a .flac file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>base64EncodedAudio</code> - </dd>
<dd><code>audioFile</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="createPDF-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPDF</h4>
<pre>private&nbsp;void&nbsp;createPDF(java.lang.String&nbsp;rawTranscript)
                throws com.itextpdf.text.DocumentException,
                       java.io.FileNotFoundException,
                       org.json.simple.parser.ParseException</pre>
<div class="block">Creates the pdf file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawTranscript</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.itextpdf.text.DocumentException</code></dd>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>org.json.simple.parser.ParseException</code></dd>
</dl>
</li>
</ul>
<a name="createRawTranscript-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRawTranscript</h4>
<pre>private&nbsp;java.lang.String&nbsp;createRawTranscript(java.io.File&nbsp;audioFile)
                                      throws java.io.FileNotFoundException,
                                             org.json.simple.parser.ParseException</pre>
<div class="block">Creates the raw transcript.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audioFile</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>org.json.simple.parser.ParseException</code></dd>
</dl>
</li>
</ul>
<a name="doInBackground-java.io.File...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doInBackground</h4>
<pre>protected&nbsp;java.lang.Void&nbsp;doInBackground(java.io.File...&nbsp;audioFile)</pre>
<div class="block">Creates the transcript. First the audiofile, which is saved as an .m4a file, will be converted to a .flac file with the help of an outside file conversion API.
 This conversion needs to happen, because the IBM Watson Speech To Text API doesn't accept any file format created by the MediaRecorder.
 The IBM Watson Speech To Text API then responds with the transcript, which needs to be parsed and saved to a pdf file. Then the .flac file is being deleted, because it isn't needed further.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>doInBackground</code>&nbsp;in class&nbsp;<code>android.os.AsyncTask&lt;java.io.File,java.lang.Void,java.lang.Void&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audioFile</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="onPostExecute-java.lang.Void-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPostExecute</h4>
<pre>protected&nbsp;void&nbsp;onPostExecute(java.lang.Void&nbsp;result)</pre>
<div class="block">Will be called after the transcript has been created to make changes to the UI, signalling that the
 background operation has been completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onPostExecute</code>&nbsp;in class&nbsp;<code>android.os.AsyncTask&lt;java.io.File,java.lang.Void,java.lang.Void&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>result</code> - </dd>
</dl>
</li>
</ul>
<a name="onPreExecute--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onPreExecute</h4>
<pre>protected&nbsp;void&nbsp;onPreExecute()</pre>
<div class="block">Will be called to make changes to the UI before starting the background operation, in which the transcript is created.
 The button for creating the transcript will be disabled and the progressbar will be shown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onPreExecute</code>&nbsp;in class&nbsp;<code>android.os.AsyncTask&lt;java.io.File,java.lang.Void,java.lang.Void&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
